import{r as V,j as $,U as a}from"./app-DyjsqCji.js";import{k as Ge,O as Ae,C as Me,T as Pe,l as Ie,m as Je,n as Qe,o as Ze}from"./index-CnULDAuZ.js";import{c as Y}from"./utils-CytzSlOG.js";const yn=Ge,bn=Je,Nt=Qe,Dn=Ze,et=V.forwardRef(({className:e,...n},t)=>$.jsx(Ae,{ref:t,className:Y("fixed inset-0 z-[150] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));et.displayName=Ae.displayName;const $t=V.forwardRef(({className:e,children:n,...t},r)=>$.jsxs(Nt,{children:[$.jsx(et,{}),$.jsx(Me,{ref:r,className:Y("fixed left-[50%] top-[50%] z-[151] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:n})]}));$t.displayName=Me.displayName;const At=({className:e,...n})=>$.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});At.displayName="DialogHeader";const Mt=({className:e,...n})=>$.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});Mt.displayName="DialogFooter";const Pt=V.forwardRef(({className:e,...n},t)=>$.jsx(Pe,{ref:t,className:Y("text-lg font-semibold leading-none tracking-tight",e),...n}));Pt.displayName=Pe.displayName;const It=V.forwardRef(({className:e,...n},t)=>$.jsx(Ie,{ref:t,className:Y("text-sm text-muted-foreground",e),...n}));It.displayName=Ie.displayName;function Ht(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const tt=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ie=()=>{const e=a.useContext(tt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Ht(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function kt(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function _t(){return He(/^Mac/)}function Lt(){return He(/^iPhone/)}function Ye(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function jt(){return He(/^iPad/)||_t()&&navigator.maxTouchPoints>1}function nt(){return Lt()||jt()}function He(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Bt=24,Ft=typeof window<"u"?V.useLayoutEffect:V.useEffect;function qe(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const Te=typeof document<"u"&&window.visualViewport;function Xe(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function at(e){for(Xe(e)&&(e=e.parentElement);e&&!Xe(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Ut=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let he=0,Ee;function zt(e={}){let{isDisabled:n}=e;Ft(()=>{if(!n)return he++,he===1&&nt()&&(Ee=Wt()),()=>{he--,he===0&&(Ee==null||Ee())}},[n])}function Wt(){let e,n=0,t=m=>{e=at(m.target),!(e===document.documentElement&&e===document.body)&&(n=m.changedTouches[0].pageY)},r=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let p=m.changedTouches[0].pageY,B=e.scrollTop,L=e.scrollHeight-e.clientHeight;L!==0&&((B<=0&&p>n||B>=L&&p<n)&&m.preventDefault(),n=p)},i=m=>{let p=m.target;Ne(p)&&p!==document.activeElement&&(m.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},o=m=>{let p=m.target;Ne(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Te&&(Te.height<window.innerHeight?requestAnimationFrame(()=>{Ke(p)}):Te.addEventListener("resize",()=>Ke(p),{once:!0}))}))},h=()=>{window.scrollTo(0,0)},u=window.pageXOffset,b=window.pageYOffset,S=qe(Vt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=qe(fe(document,"touchstart",t,{passive:!1,capture:!0}),fe(document,"touchmove",r,{passive:!1,capture:!0}),fe(document,"touchend",i,{passive:!1,capture:!0}),fe(document,"focus",o,!0),fe(window,"scroll",h));return()=>{S(),g(),window.scrollTo(u,b)}}function Vt(e,n,t){let r=e.style[n];return e.style[n]=t,()=>{e.style[n]=r}}function fe(e,n,t,r){return e.addEventListener(n,t,r),()=>{e.removeEventListener(n,t,r)}}function Ke(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=at(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let r=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const h=t.getBoundingClientRect().bottom+Bt;o>h&&(t.scrollTop+=i-r)}e=t.parentElement}}function Ne(e){return e instanceof HTMLInputElement&&!Ut.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Yt(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function qt(...e){return n=>e.forEach(t=>Yt(t,n))}function rt(...e){return V.useCallback(qt(...e),e)}const ot=new WeakMap;function N(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}r[i]=e.style[i],e.style[i]=o}),!t&&ot.set(e,r)}function Xt(e,n){if(!e||!(e instanceof HTMLElement))return;let t=ot.get(e);t&&(e.style[n]=t[n])}const C=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ve(e,n){if(!e)return null;const t=window.getComputedStyle(e),r=t.transform||t.webkitTransform||t.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[C(n)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[C(n)?5:4]):null)}function Kt(e){return 8*(Math.log(e+1)-2)}function Oe(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function Gt(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const E={DURATION:.5,EASE:[.32,.72,0,1]},it=.4,Jt=.25,Qt=100,st=8,ye=16,$e=26,Ce="vaul-dragging";function lt(e){const n=a.useRef(e);return a.useEffect(()=>{n.current=e}),a.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function Zt({defaultProp:e,onChange:n}){const t=a.useState(e),[r]=t,i=a.useRef(r),o=lt(n);return a.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),t}function ut({prop:e,defaultProp:n,onChange:t=()=>{}}){const[r,i]=Zt({defaultProp:n,onChange:t}),o=e!==void 0,h=o?e:r,u=lt(t),b=a.useCallback(S=>{if(o){const m=typeof S=="function"?S(e):S;m!==e&&u(m)}else i(S)},[o,e,i,u]);return[h,b]}function en({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:r,overlayRef:i,fadeFromIndex:o,onSnapPointChange:h,direction:u="bottom",container:b,snapToSequentialPoint:S}){const[g,m]=ut({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),[p,B]=a.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect(()=>{function c(){B({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const L=a.useMemo(()=>g===(t==null?void 0:t[t.length-1])||null,[t,g]),T=a.useMemo(()=>{var c;return(c=t==null?void 0:t.findIndex(D=>D===g))!=null?c:null},[t,g]),F=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===g||!t,w=a.useMemo(()=>{const c=b?{width:b.getBoundingClientRect().width,height:b.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var D;return(D=t==null?void 0:t.map(y=>{const H=typeof y=="string";let P=0;if(H&&(P=parseInt(y,10)),C(u)){const l=H?P:p?y*c.height:0;return p?u==="bottom"?c.height-l:-c.height+l:l}const z=H?P:p?y*c.width:0;return p?u==="right"?c.width-z:-c.width+z:z}))!=null?D:[]},[t,p,b]),M=a.useMemo(()=>T!==null?w==null?void 0:w[T]:null,[w,T]),A=a.useCallback(c=>{var D;const y=(D=w==null?void 0:w.findIndex(H=>H===c))!=null?D:null;h(y),N(r.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:C(u)?`translate3d(0, ${c}px, 0)`:`translate3d(${c}px, 0, 0)`}),w&&y!==w.length-1&&o!==void 0&&y!==o&&y<o?N(i.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"0"}):N(i.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),m(t==null?void 0:t[Math.max(y,0)])},[r.current,t,w,o,i,m]);a.useEffect(()=>{if(g||e){var c;const D=(c=t==null?void 0:t.findIndex(y=>y===e||y===g))!=null?c:-1;w&&D!==-1&&typeof w[D]=="number"&&A(w[D])}},[g,e,t,w,A]);function d({draggedDistance:c,closeDrawer:D,velocity:y,dismissible:H}){if(o===void 0)return;const P=u==="bottom"||u==="right"?(M??0)-c:(M??0)+c,z=T===o-1,l=T===0,U=c>0;if(z&&N(i.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),!S&&y>2&&!U){H?D():A(w[0]);return}if(!S&&y>2&&U&&w&&t){A(w[t.length-1]);return}const k=w==null?void 0:w.reduce((I,J)=>typeof I!="number"||typeof J!="number"?I:Math.abs(J-P)<Math.abs(I-P)?J:I),W=C(u)?window.innerHeight:window.innerWidth;if(y>it&&Math.abs(c)<W*.4){const I=U?1:-1;if(I>0&&L&&t){A(w[t.length-1]);return}if(l&&I<0&&H&&D(),T===null)return;A(w[T+I]);return}A(k)}function K({draggedDistance:c}){if(M===null)return;const D=u==="bottom"||u==="right"?M-c:M+c;(u==="bottom"||u==="right")&&D<w[w.length-1]||(u==="top"||u==="left")&&D>w[w.length-1]||N(r.current,{transform:C(u)?`translate3d(0, ${D}px, 0)`:`translate3d(${D}px, 0, 0)`})}function te(c,D){if(!t||typeof T!="number"||!w||o===void 0)return null;const y=T===o-1;if(T>=o&&D)return 0;if(y&&!D)return 1;if(!F&&!y)return null;const P=y?T+1:T-1,z=y?w[P]-w[P-1]:w[P+1]-w[P],l=c/Math.abs(z);return y?1-l:l}return{isLastSnapPoint:L,activeSnapPoint:g,shouldFade:F,getPercentageDragged:te,setActiveSnapPoint:m,activeSnapPointIndex:T,onRelease:d,onDrag:K,snapPointsOffset:w}}const tn=()=>()=>{};function nn(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:r,noBodyStyles:i}=ie(),o=a.useRef(null),h=V.useMemo(()=>document.body.style.backgroundColor,[]);function u(){return(window.innerWidth-$e)/window.innerWidth}a.useEffect(()=>{if(n&&t){o.current&&clearTimeout(o.current);const b=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!b)return;Gt(r&&!i?Oe(document.body,{background:"black"}):tn,Oe(b,{transformOrigin:C(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`}));const S=Oe(b,{borderRadius:`${st}px`,overflow:"hidden",...C(e)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),o.current=window.setTimeout(()=>{h?document.body.style.background=h:document.body.style.removeProperty("background")},E.DURATION*1e3)}}},[n,t,h])}let me=null;function an({isOpen:e,modal:n,nested:t,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:o}){const[h,u]=a.useState(()=>typeof window<"u"?window.location.href:""),b=a.useRef(0),S=a.useCallback(()=>{if(Ye()&&me===null&&e&&!o){me={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:p}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-b.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const B=p-window.innerHeight;B&&b.current>=p&&(document.body.style.top=`${-(b.current+B)}px`)}),300)}},[e]),g=a.useCallback(()=>{if(Ye()&&me!==null&&!o){const m=-parseInt(document.body.style.top,10),p=-parseInt(document.body.style.left,10);Object.assign(document.body.style,me),window.requestAnimationFrame(()=>{if(i&&h!==window.location.href){u(window.location.href);return}window.scrollTo(p,m)}),me=null}},[h]);return a.useEffect(()=>{function m(){b.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),a.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[n,g]),a.useEffect(()=>{t||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&S(),n||window.setTimeout(()=>{g()},500)):g())},[e,r,h,n,t,S,g]),{restorePositionSetting:g}}function ct({open:e,onOpenChange:n,children:t,onDrag:r,onRelease:i,snapPoints:o,shouldScaleBackground:h=!1,setBackgroundColorOnScale:u=!0,closeThreshold:b=Jt,scrollLockTimeout:S=Qt,dismissible:g=!0,handleOnly:m=!1,fadeFromIndex:p=o&&o.length-1,activeSnapPoint:B,setActiveSnapPoint:L,fixed:T,modal:F=!0,onClose:w,nested:M,noBodyStyles:A=!1,direction:d="bottom",defaultOpen:K=!1,disablePreventScroll:te=!0,snapToSequentialPoint:c=!1,preventScrollRestoration:D=!1,repositionInputs:y=!0,onAnimationEnd:H,container:P,autoFocus:z=!1}){var l,U;const[k=!1,W]=ut({defaultProp:K,prop:e,onChange:s=>{n==null||n(s),!s&&!M&&Dt(),setTimeout(()=>{H==null||H(s)},E.DURATION*1e3),s&&!F&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[I,J]=a.useState(!1),[Q,se]=a.useState(!1),[wt,ke]=a.useState(!1),ae=a.useRef(null),pe=a.useRef(null),be=a.useRef(null),De=a.useRef(null),le=a.useRef(null),ue=a.useRef(!1),xe=a.useRef(null),Re=a.useRef(0),re=a.useRef(!1),_e=a.useRef(!K),Le=a.useRef(0),f=a.useRef(null),je=a.useRef(((l=f.current)==null?void 0:l.getBoundingClientRect().height)||0),Be=a.useRef(((U=f.current)==null?void 0:U.getBoundingClientRect().width)||0),Se=a.useRef(0),gt=a.useCallback(s=>{o&&s===ce.length-1&&(pe.current=new Date)},[]),{activeSnapPoint:ht,activeSnapPointIndex:oe,setActiveSnapPoint:Fe,onRelease:vt,snapPointsOffset:ce,onDrag:yt,shouldFade:Ue,getPercentageDragged:bt}=en({snapPoints:o,activeSnapPointProp:B,setActiveSnapPointProp:L,drawerRef:f,fadeFromIndex:p,overlayRef:ae,onSnapPointChange:gt,direction:d,container:P,snapToSequentialPoint:c});zt({isDisabled:!k||Q||!F||wt||!I||!y||!te});const{restorePositionSetting:Dt}=an({isOpen:k,modal:F,nested:M??!1,hasBeenOpened:I,preventScrollRestoration:D,noBodyStyles:A});function we(){return(window.innerWidth-$e)/window.innerWidth}function xt(s){var x,R;!g&&!o||f.current&&!f.current.contains(s.target)||(je.current=((x=f.current)==null?void 0:x.getBoundingClientRect().height)||0,Be.current=((R=f.current)==null?void 0:R.getBoundingClientRect().width)||0,se(!0),be.current=new Date,nt()&&window.addEventListener("touchend",()=>ue.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Re.current=C(d)?s.pageY:s.pageX)}function ze(s,x){var R;let v=s;const O=(R=window.getSelection())==null?void 0:R.toString(),j=f.current?ve(f.current,d):null,_=new Date;if(v.tagName==="SELECT"||v.hasAttribute("data-vaul-no-drag")||v.closest("[data-vaul-no-drag]"))return!1;if(d==="right"||d==="left")return!0;if(pe.current&&_.getTime()-pe.current.getTime()<500)return!1;if(j!==null&&(d==="bottom"?j>0:j<0))return!0;if(O&&O.length>0)return!1;if(le.current&&_.getTime()-le.current.getTime()<S&&j===0||x)return le.current=_,!1;for(;v;){if(v.scrollHeight>v.clientHeight){if(v.scrollTop!==0)return le.current=new Date,!1;if(v.getAttribute("role")==="dialog")return!0}v=v.parentNode}return!0}function Rt(s){if(f.current&&Q){const x=d==="bottom"||d==="right"?1:-1,R=(Re.current-(C(d)?s.pageY:s.pageX))*x,v=R>0,O=o&&!g&&!v;if(O&&oe===0)return;const j=Math.abs(R),_=document.querySelector("[data-vaul-drawer-wrapper]"),Z=d==="bottom"||d==="top"?je.current:Be.current;let q=j/Z;const ne=bt(j,v);if(ne!==null&&(q=ne),O&&q>=1||!ue.current&&!ze(s.target,v))return;if(f.current.classList.add(Ce),ue.current=!0,N(f.current,{transition:"none"}),N(ae.current,{transition:"none"}),o&&yt({draggedDistance:R}),v&&!o){const G=Kt(R),ge=Math.min(G*-1,0)*x;N(f.current,{transform:C(d)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`});return}const ee=1-q;if((Ue||p&&oe===p-1)&&(r==null||r(s,q),N(ae.current,{opacity:`${ee}`,transition:"none"},!0)),_&&ae.current&&h){const G=Math.min(we()+q*(1-we()),1),ge=8-q*8,Ve=Math.max(0,14-q*14);N(_,{borderRadius:`${ge}px`,transform:C(d)?`scale(${G}) translate3d(0, ${Ve}px, 0)`:`scale(${G}) translate3d(${Ve}px, 0, 0)`,transition:"none"},!0)}if(!o){const G=j*x;N(f.current,{transform:C(d)?`translate3d(0, ${G}px, 0)`:`translate3d(${G}px, 0, 0)`})}}}a.useEffect(()=>{window.requestAnimationFrame(()=>{_e.current=!0})},[]),a.useEffect(()=>{var s;function x(){if(!f.current||!y)return;const R=document.activeElement;if(Ne(R)||re.current){var v;const O=((v=window.visualViewport)==null?void 0:v.height)||0,j=window.innerHeight;let _=j-O;const Z=f.current.getBoundingClientRect().height||0,q=Z>j*.8;Se.current||(Se.current=Z);const ne=f.current.getBoundingClientRect().top;if(Math.abs(Le.current-_)>60&&(re.current=!re.current),o&&o.length>0&&ce&&oe){const ee=ce[oe]||0;_+=ee}if(Le.current=_,Z>O||re.current){const ee=f.current.getBoundingClientRect().height;let G=ee;ee>O&&(G=O-(q?ne:$e)),T?f.current.style.height=`${ee-Math.max(_,0)}px`:f.current.style.height=`${Math.max(G,O-ne)}px`}else kt()||(f.current.style.height=`${Se.current}px`);o&&o.length>0&&!re.current?f.current.style.bottom="0px":f.current.style.bottom=`${Math.max(_,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",x),()=>{var R;return(R=window.visualViewport)==null?void 0:R.removeEventListener("resize",x)}},[oe,o,ce]);function de(s){St(),w==null||w(),s||W(!1),setTimeout(()=>{o&&Fe(o[0])},E.DURATION*1e3)}function We(){if(!f.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),x=ve(f.current,d);N(f.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),N(ae.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),h&&x&&x>0&&k&&N(s,{borderRadius:`${st}px`,overflow:"hidden",...C(d)?{transform:`scale(${we()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${we()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`},!0)}function St(){!Q||!f.current||(f.current.classList.remove(Ce),ue.current=!1,se(!1),De.current=new Date)}function Tt(s){if(!Q||!f.current)return;f.current.classList.remove(Ce),ue.current=!1,se(!1),De.current=new Date;const x=ve(f.current,d);if(!s||!ze(s.target,!1)||!x||Number.isNaN(x)||be.current===null)return;const R=De.current.getTime()-be.current.getTime(),v=Re.current-(C(d)?s.pageY:s.pageX),O=Math.abs(v)/R;if(O>.05&&(ke(!0),setTimeout(()=>{ke(!1)},200)),o){vt({draggedDistance:v*(d==="bottom"||d==="right"?1:-1),closeDrawer:de,velocity:O,dismissible:g}),i==null||i(s,!0);return}if(d==="bottom"||d==="right"?v>0:v<0){We(),i==null||i(s,!0);return}if(O>it){de(),i==null||i(s,!1);return}var j;const _=Math.min((j=f.current.getBoundingClientRect().height)!=null?j:0,window.innerHeight);var Z;const q=Math.min((Z=f.current.getBoundingClientRect().width)!=null?Z:0,window.innerWidth),ne=d==="left"||d==="right";if(Math.abs(x)>=(ne?q:_)*b){de(),i==null||i(s,!1);return}i==null||i(s,!0),We()}a.useEffect(()=>(k&&(N(document.documentElement,{scrollBehavior:"auto"}),pe.current=new Date),()=>{Xt(document.documentElement,"scrollBehavior")}),[k]);function Et(s){const x=s?(window.innerWidth-ye)/window.innerWidth:1,R=s?-16:0;xe.current&&window.clearTimeout(xe.current),N(f.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:C(d)?`scale(${x}) translate3d(0, ${R}px, 0)`:`scale(${x}) translate3d(${R}px, 0, 0)`}),!s&&f.current&&(xe.current=setTimeout(()=>{const v=ve(f.current,d);N(f.current,{transition:"none",transform:C(d)?`translate3d(0, ${v}px, 0)`:`translate3d(${v}px, 0, 0)`})},500))}function Ot(s,x){if(x<0)return;const R=(window.innerWidth-ye)/window.innerWidth,v=R+x*(1-R),O=-16+x*ye;N(f.current,{transform:C(d)?`scale(${v}) translate3d(0, ${O}px, 0)`:`scale(${v}) translate3d(${O}px, 0, 0)`,transition:"none"})}function Ct(s,x){const R=C(d)?window.innerHeight:window.innerWidth,v=x?(R-ye)/R:1,O=x?-16:0;x&&N(f.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:C(d)?`scale(${v}) translate3d(0, ${O}px, 0)`:`scale(${v}) translate3d(${O}px, 0, 0)`})}return a.useEffect(()=>{F||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[F]),a.createElement(Ge,{defaultOpen:K,onOpenChange:s=>{!g&&!s||(s?J(!0):de(!0),W(s))},open:k},a.createElement(tt.Provider,{value:{activeSnapPoint:ht,snapPoints:o,setActiveSnapPoint:Fe,drawerRef:f,overlayRef:ae,onOpenChange:n,onPress:xt,onRelease:Tt,onDrag:Rt,dismissible:g,shouldAnimate:_e,handleOnly:m,isOpen:k,isDragging:Q,shouldFade:Ue,closeDrawer:de,onNestedDrag:Ot,onNestedOpenChange:Et,onNestedRelease:Ct,keyboardIsOpen:re,modal:F,snapPointsOffset:ce,activeSnapPointIndex:oe,direction:d,shouldScaleBackground:h,setBackgroundColorOnScale:u,noBodyStyles:A,container:P,autoFocus:z}},t))}const dt=a.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:r,onRelease:i,shouldFade:o,isOpen:h,modal:u,shouldAnimate:b}=ie(),S=rt(n,t),g=r&&r.length>0;if(!u)return null;const m=a.useCallback(p=>i(p),[i]);return a.createElement(Ae,{onMouseUp:m,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":h&&g?"true":"false","data-vaul-snap-points-overlay":h&&o?"true":"false","data-vaul-animate":b!=null&&b.current?"true":"false",...e})});dt.displayName="Drawer.Overlay";const ft=a.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...r},i){const{drawerRef:o,onPress:h,onRelease:u,onDrag:b,keyboardIsOpen:S,snapPointsOffset:g,activeSnapPointIndex:m,modal:p,isOpen:B,direction:L,snapPoints:T,container:F,handleOnly:w,shouldAnimate:M,autoFocus:A}=ie(),[d,K]=a.useState(!1),te=rt(i,o),c=a.useRef(null),D=a.useRef(null),y=a.useRef(!1),H=T&&T.length>0;nn();const P=(l,U,k=0)=>{if(y.current)return!0;const W=Math.abs(l.y),I=Math.abs(l.x),J=I>W,Q=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(l.x*Q<0)&&I>=0&&I<=k)return J}else if(!(l.y*Q<0)&&W>=0&&W<=k)return!J;return y.current=!0,!0};a.useEffect(()=>{H&&window.requestAnimationFrame(()=>{K(!0)})},[]);function z(l){c.current=null,y.current=!1,u(l)}return a.createElement(Me,{"data-vaul-drawer-direction":L,"data-vaul-drawer":"","data-vaul-delayed-snap-points":d?"true":"false","data-vaul-snap-points":B&&H?"true":"false","data-vaul-custom-container":F?"true":"false","data-vaul-animate":M!=null&&M.current?"true":"false",...r,ref:te,style:g&&g.length>0?{"--snap-point-height":`${g[m??0]}px`,...n}:n,onPointerDown:l=>{w||(r.onPointerDown==null||r.onPointerDown.call(r,l),c.current={x:l.pageX,y:l.pageY},h(l))},onOpenAutoFocus:l=>{t==null||t(l),A||l.preventDefault()},onPointerDownOutside:l=>{if(e==null||e(l),!p||l.defaultPrevented){l.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:l=>{if(!p){l.preventDefault();return}},onPointerMove:l=>{if(D.current=l,w||(r.onPointerMove==null||r.onPointerMove.call(r,l),!c.current))return;const U=l.pageY-c.current.y,k=l.pageX-c.current.x,W=l.pointerType==="touch"?10:2;P({x:k,y:U},L,W)?b(l):(Math.abs(k)>W||Math.abs(U)>W)&&(c.current=null)},onPointerUp:l=>{r.onPointerUp==null||r.onPointerUp.call(r,l),c.current=null,y.current=!1,u(l)},onPointerOut:l=>{r.onPointerOut==null||r.onPointerOut.call(r,l),z(D.current)},onContextMenu:l=>{r.onContextMenu==null||r.onContextMenu.call(r,l),D.current&&z(D.current)}})});ft.displayName="Drawer.Content";const rn=250,on=120,mt=a.forwardRef(function({preventCycle:e=!1,children:n,...t},r){const{closeDrawer:i,isDragging:o,snapPoints:h,activeSnapPoint:u,setActiveSnapPoint:b,dismissible:S,handleOnly:g,isOpen:m,onPress:p,onDrag:B}=ie(),L=a.useRef(null),T=a.useRef(!1);function F(){if(T.current){A();return}window.setTimeout(()=>{w()},on)}function w(){if(o||e||T.current){A();return}if(A(),!h||h.length===0){S||i();return}if(u===h[h.length-1]&&S){i();return}const K=h.findIndex(c=>c===u);if(K===-1)return;const te=h[K+1];b(te)}function M(){L.current=window.setTimeout(()=>{T.current=!0},rn)}function A(){L.current&&window.clearTimeout(L.current),T.current=!1}return a.createElement("div",{onClick:F,onPointerCancel:A,onPointerDown:d=>{g&&p(d),M()},onPointerMove:d=>{g&&B(d)},ref:r,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},a.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});mt.displayName="Drawer.Handle";function sn({onDrag:e,onOpenChange:n,open:t,...r}){const{onNestedDrag:i,onNestedOpenChange:o,onNestedRelease:h}=ie();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return a.createElement(ct,{nested:!0,open:t,onClose:()=>{o(!1)},onDrag:(u,b)=>{i(u,b),e==null||e(u,b)},onOpenChange:u=>{u&&o(u),n==null||n(u)},onRelease:h,...r})}function ln(e){const n=ie(),{container:t=n.container,...r}=e;return a.createElement(Qe,{container:t,...r})}const X={Root:ct,NestedRoot:sn,Content:ft,Overlay:dt,Trigger:Je,Portal:ln,Handle:mt,Close:Ze,Title:Pe,Description:Ie},un=({shouldScaleBackground:e=!0,...n})=>$.jsx(X.Root,{shouldScaleBackground:e,...n});un.displayName="Drawer";const xn=X.Trigger,cn=X.Portal,Rn=X.Close,pt=V.forwardRef(({className:e,...n},t)=>$.jsx(X.Overlay,{ref:t,className:Y("fixed inset-0 z-[122] bg-black/90",e),...n}));pt.displayName=X.Overlay.displayName;const dn=V.forwardRef(({className:e,children:n,...t},r)=>$.jsxs(cn,{children:[$.jsx(pt,{}),$.jsxs(X.Content,{ref:r,className:Y("fixed inset-x-0 bottom-0 z-[123] mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[$.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));dn.displayName="DrawerContent";const fn=({className:e,...n})=>$.jsx("div",{className:Y("grid gap-1.5 p-4 text-center sm:text-left",e),...n});fn.displayName="DrawerHeader";const mn=({className:e,...n})=>$.jsx("div",{className:Y("mt-auto flex flex-col gap-2 p-4",e),...n});mn.displayName="DrawerFooter";const pn=V.forwardRef(({className:e,...n},t)=>$.jsx(X.Title,{ref:t,className:Y("text-lg font-semibold leading-none tracking-tight",e),...n}));pn.displayName=X.Title.displayName;const wn=V.forwardRef(({className:e,...n},t)=>$.jsx(X.Description,{ref:t,className:Y("text-sm text-muted-foreground",e),...n}));wn.displayName=X.Description.displayName;export{yn as D,bn as a,$t as b,Dn as c,un as d,xn as e,dn as f,At as g,Pt as h,fn as i,pn as j,wn as k,mn as l,Rn as m,It as n,Mt as o};
