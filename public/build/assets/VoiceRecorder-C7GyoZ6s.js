import{r as i,j as a}from"./app-CpEXxolg.js";import{c as y,b as h,a as j}from"./index-sA5E4vLM.js";import{P as w}from"./index-D5FzsrKy.js";import{c as R}from"./index-CAvpFn2P.js";import{c as k}from"./utils-CytzSlOG.js";import"./index-BZkdM-th.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],M=y("Mic",N);var P="Toggle",f=i.forwardRef((e,t)=>{const{pressed:s,defaultPressed:o=!1,onPressedChange:r,...d}=e,[n=!1,u]=h({prop:s,onChange:r,defaultProp:o});return a.jsx(w.button,{type:"button","aria-pressed":n,"data-state":n?"on":"off","data-disabled":e.disabled?"":void 0,...d,ref:t,onClick:j(e.onClick,()=>{e.disabled||u(!n)})})});f.displayName=P;var g=f;const C=R("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),v=i.forwardRef(({className:e,variant:t,size:s,...o},r)=>a.jsx(g,{ref:r,className:k(C({variant:t,size:s,className:e})),...o}));v.displayName=g.displayName;function B({onAudioReady:e}){const[t,s]=i.useState(!1),[o,r]=i.useState(null),[d,n]=i.useState(null),u=async()=>{r(null);const x=await navigator.mediaDevices.getUserMedia({audio:!0}),c=new MediaRecorder(x);n(c),c.start(),s(!0);const p=[];c.ondataavailable=l=>{p.push(l.data)},c.onstop=()=>{const l=new Blob(p,{type:"audio/mp3"});e(l);const m=new FileReader;m.onloadend=()=>{r(m.result)},m.readAsDataURL(l)}},b=()=>{d&&d.stop(),s(!1)};return a.jsxs("div",{className:"md:flex items-center space-x-3 md:space-y-0 space-y-3",children:[a.jsxs(v,{onClick:t?b:u,className:"bg-gray-100 data-[state=on]:bg-red-500 data-[state=on]:text-white",children:[a.jsx(M,{}),t?"Sedang merekam":"Mulai merekam"]}),o&&a.jsx(S,{audioURL:o})]})}const S=({audioURL:e})=>a.jsx("div",{className:"audio-player-container",children:a.jsx("div",{className:"audio-player-wrapper",children:a.jsxs("audio",{controls:!0,className:"audio-player",children:[a.jsx("source",{src:e,type:"audio/mp3"}),a.jsx("source",{src:e,type:"audio/webm"}),a.jsx("source",{src:e,type:"audio/wav"}),"Your browser does not support the audio element."]})})});export{B as default};
