import{j as e,r as a,S as T,k as L}from"./app-CU8n4cn-.js";import{c as h}from"./utils-CytzSlOG.js";import{h as _}from"./proxy-CM0YBVMb.js";import{u as G}from"./use-media-query-D29fUlhm.js";import{C as B,s as H,z as I}from"./ComplaintForm-BZYzAYOf.js";import{A as V}from"./index-CbulQXJw.js";import"./index-JQiIYPB5.js";import"./index-DE4jLTC7.js";import"./index-DtCjrNur.js";import"./dialog-B6kawL_X.js";import"./index-Cq4MgiZ-.js";import"./drawer-53f_3Xzl.js";import"./input-iEW55r56.js";import"./label-D6PqE6qe.js";import"./VoiceRecorder-DGWJT-JS.js";import"./MyMap-wz_n_yBs.js";import"./leaflet-C3i9XR7S.js";import"./Popup-CTgE9Ohj.js";function N({children:t,className:r}){return e.jsx(_.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.8},transition:{duration:1,scale:{type:"spring"}},className:h("talk-bubble tri-right border round btm-left-in absolute bg-sirisa-primary text-white",r),children:e.jsx("div",{className:"talktext",children:e.jsxs("p",{children:['"',t,'"']})})})}function K({placeholders:t,onChange:r,onSubmit:n}){const[j,k]=a.useState(0),l=a.useRef(null),g=()=>{l.current=setInterval(()=>{k(i=>(i+1)%t.length)},3e3)},d=()=>{document.visibilityState!=="visible"&&l.current?(clearInterval(l.current),l.current=null):document.visibilityState==="visible"&&g()};a.useEffect(()=>(g(),document.addEventListener("visibilitychange",d),()=>{l.current&&clearInterval(l.current),document.removeEventListener("visibilitychange",d)}),[t]);const m=a.useRef(null),b=a.useRef([]),C=a.useRef(null),[x,z]=a.useState(""),[S,F]=a.useState(!1),R=a.useCallback(()=>{if(!C.current)return;const i=m.current;if(!i)return;const o=i.getContext("2d");if(!o)return;i.width=800,i.height=800,o.clearRect(0,0,800,800);const y=getComputedStyle(C.current),v=parseFloat(y.getPropertyValue("font-size"));o.font=`${v*2}px ${y.fontFamily}`,o.fillStyle="#FFF",o.fillText(x,16,40);const p=o.getImageData(0,0,800,800).data,w=[];for(let s=0;s<800;s++){let D=4*s*800;for(let c=0;c<800;c++){let f=D+4*c;p[f]!==0&&p[f+1]!==0&&p[f+2]!==0&&w.push({x:c,y:s,color:[p[f],p[f+1],p[f+2],p[f+3]]})}}b.current=w.map(({x:s,y:D,color:c})=>({x:s,y:D,r:1,color:`rgba(${c[0]}, ${c[1]}, ${c[2]}, ${c[3]})`}))},[x]);a.useEffect(()=>{R()},[x,R]);const $=i=>{const o=(y=0)=>{requestAnimationFrame(()=>{var p;const v=[];for(let w=0;w<b.current.length;w++){const s=b.current[w];if(s.x<y)v.push(s);else{if(s.r<=0){s.r=0;continue}s.x+=Math.random()>.5?1:-1,s.y+=Math.random()>.5?1:-1,s.r-=.05*Math.random(),v.push(s)}}b.current=v;const u=(p=m.current)==null?void 0:p.getContext("2d");u&&(u.clearRect(y,0,800,800),b.current.forEach(w=>{const{x:s,y:D,r:c,color:f}=w;s>y&&(u.beginPath(),u.rect(s,D,c,c),u.fillStyle=f,u.strokeStyle=f,u.stroke())})),b.current.length>0?o(y-8):(z(""),F(!1))})};o(i)},M=i=>{i.key==="Enter"&&!S&&x.length>9&&x.length<15&&A()},A=()=>{var o;if(F(!0),R(),(((o=C.current)==null?void 0:o.value)||"")&&C.current){const y=b.current.reduce((v,u)=>u.x>v?u.x:v,0);$(y)}},P=i=>{i.preventDefault(),A(),n&&n(i)};return e.jsxs("form",{className:h("w-full relative max-w-xl mx-auto bg-white dark:bg-zinc-800 h-12 rounded-full overflow-hidden shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),_0px_1px_0px_0px_rgba(25,28,33,0.02),_0px_0px_0px_1px_rgba(25,28,33,0.08)] transition duration-200",x&&"bg-gray-50"),onSubmit:P,children:[e.jsx("canvas",{className:h("absolute pointer-events-none  text-base transform scale-50 top-[20%] left-2 sm:left-8 origin-top-left filter invert dark:invert-0 pr-20",S?"opacity-100":"opacity-0"),ref:m}),e.jsx("input",{onChange:i=>{S||(z(i.target.value),r&&r(i))},onKeyDown:M,ref:C,value:x,type:"text",className:h("w-full relative text-sm sm:text-base z-50 border-none dark:text-white bg-transparent text-black h-full rounded-full focus:outline-none focus:ring-0 pl-4 sm:pl-10 pr-20",S&&"text-transparent dark:text-transparent")}),e.jsx("button",{disabled:x.length<9,type:"submit",className:"absolute right-2 top-1/2 z-50 -translate-y-1/2 h-8 w-8 rounded-full disabled:bg-gray-100 bg-black dark:bg-zinc-900 dark:disabled:bg-zinc-800 transition duration-200 flex items-center justify-center",children:e.jsxs(_.svg,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-300 h-4 w-4",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx(_.path,{d:"M5 12l14 0",initial:{strokeDasharray:"50%",strokeDashoffset:"50%"},animate:{strokeDashoffset:x?0:"50%"},transition:{duration:.3,ease:"linear"}}),e.jsx("path",{d:"M13 18l6 -6"}),e.jsx("path",{d:"M13 6l6 6"})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center rounded-full pointer-events-none",children:e.jsx(V,{mode:"wait",children:!x&&e.jsx(_.p,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.3,ease:"linear"},className:"dark:text-zinc-500 text-sm sm:text-base font-normal text-neutral-500 pl-4 sm:pl-12 text-left w-[calc(100%-2rem)] truncate",children:t[j]},`current-placeholder-${j}`)})})]})}const E=a.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:h("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));E.displayName="Card";const q=a.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:h("flex flex-col space-y-1.5 p-6",t),...r}));q.displayName="CardHeader";const J=a.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:h("text-2xl font-semibold leading-none tracking-tight",t),...r}));J.displayName="CardTitle";const Q=a.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:h("text-sm text-muted-foreground",t),...r}));Q.displayName="CardDescription";const U=a.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:h("p-6 pt-0",t),...r}));U.displayName="CardContent";const W=a.forwardRef(({className:t,...r},n)=>e.jsx("div",{ref:n,className:h("flex items-center p-6 pt-0",t),...r}));W.displayName="CardFooter";function he(){const[t,r]=a.useState(!1),[n,j]=a.useState("");a.useState(null),a.useEffect(()=>{setTimeout(()=>{r(!1)},500)},[]);const k=["Masukkan nomor Anda disini","Untuk melihat proses laporan Anda","Contoh: 082290142486"],l=d=>{const m=d.target.value.trim();j(m)},g=d=>{d.preventDefault();try{H.parse(n),T.get(route("complaint.search",{search_query:n}))}catch(m){m instanceof I.ZodError&&m.errors.map(b=>L.error(b.message))}};return e.jsxs("div",{className:"w-full h-screen overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)] overflow-hidden",children:e.jsx(Z,{})}),e.jsxs("div",{className:"w-full lg:grid grid-cols-4 items-center justify-center h-full",children:[e.jsxs("div",{className:"xl:block hidden",children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"top-[15%] left-28",children:"Dilarang menebang pohon tanpa izin resmi."}),e.jsx(N,{className:"top-[44%] left-10",children:"Pastikan api benar-benar padam setelah digunakan."}),e.jsx(N,{className:"top-[75%] left-20",children:"Lindungi ekosistem dengan tidak merusaknya."})]}),e.jsxs(E,{className:"bg-[#fef18c] shadow-lg pl-5 py-2 border-[#fef18c] h-[20rem] ml-32 w-[18rem] relative rotate-6 hover:scale-105 transition duration-300",children:[e.jsxs("div",{className:"flex flex-col items-center -mt-6 absolute left-0 right-0 w-full",children:[e.jsx("div",{className:"rounded-full z-10 h-5 w-5 bg-red-500 bg-radial-gradient"}),e.jsx("div",{className:"h-6 w-[0.1rem] -mt-2 rounded-lg bg-black"})]}),e.jsxs("div",{className:"w-full h-full p-5 border-l-2 border-black/80 border-dashed font-grapenuts text-3xl space-y-4",children:[e.jsx("p",{children:"Dilarang menebang pohon tanpa izin resmi."}),e.jsx("p",{children:"Jangan membakar hutan atau lahan."})]})]})]}),e.jsxs("div",{className:"w-full h-full col-start-2 col-span-2 flex flex-col md:gap-4 items-center md:relative absolute justify-center z-10",children:[e.jsx("div",{className:"md:max-w-md max-w-xs w-full px-4 md:px-0 md:mb-0 mb-4",children:e.jsx(K,{placeholders:k,onChange:l,onSubmit:g})}),e.jsx("h1",{className:"inline-block max-w-5xl bg-gradient-to-r from-blue-500 via-green-500 to-sirisa-primary bg-clip-text text-center text-2xl font-bold text-transparent md:py-2 md:text-6xl",children:"Lindungi Sumber Daya Alam"}),e.jsx("h1",{className:"text-center text-2xl md:py-0 py-2 font-bold text-gray-700 md:text-[3.5rem] md:px-0 px-5 inline-block max-w-5xl leading-[1]",children:"Bersama Lindungi Bumi Kita"}),e.jsx("p",{className:"mx-auto md:max-w-xl max-w-xs md:mt-4 text-center text-lg font-medium text-gray-700 md:w-2/3",children:"Temukan informasi risiko terkini untuk melindungi masa depan lingkungan."}),e.jsxs("div",{className:"flex gap-3 items-center justify-center md:mt-3 mt-5",children:[e.jsx("a",{className:"rounded-xl bg-[#187f80] px-4 py-3 font-medium text-white",href:"#map",children:"Lihat Peta"}),e.jsx(B,{})]})]}),e.jsx("div",{className:"xl:block hidden",children:t&&e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"top-[10%] right-35",children:"Jangan membakar hutan atau lahan."}),e.jsx(N,{className:"top-[40%] right-10",children:"Gunakan sumber daya alam secara bijak dan bertanggung jawab."}),e.jsx(N,{className:"top-[70%] right-32",children:"Pelihara lingkungan dengan menanam pohon"})]})})]})]})}function X({isDark:t}){const r=G("(min-width: 768px)");return e.jsx("div",{className:`flex flex-shrink-0 rounded-[2px] ${t?"bg-gray-50 dark:bg-neutral-950":"bg-gray-200 dark:bg-neutral-950 dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]"} ${r?"w-32 h-32":"w-10 h-10"}`})}function Z(){const[n,j]=a.useState([]);return a.useEffect(()=>{j((()=>{const l=[];for(let g=0;g<4;g++){const d=[];for(let m=0;m<41;m++)d.push(Math.random()<.9);l.push(d)}return l})())},[]),e.jsx("div",{className:"flex bg-gray-100 dark:bg-neutral-900 flex-shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px",children:n.map((k,l)=>k.map((g,d)=>e.jsx(X,{isDark:g},`${d}-${l}`)))})}export{Z as GridPattern,he as default};
