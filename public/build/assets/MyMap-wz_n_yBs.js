import{r as l,j as t}from"./app-CU8n4cn-.js";import{M as c,T as m,l as f}from"./leaflet-C3i9XR7S.js";import{c as u}from"./utils-CytzSlOG.js";import{M as d,P as h,a as p,b as g}from"./Popup-CTgE9Ohj.js";import"./index-DtCjrNur.js";const x=({onCoordinatesChange:s,currentLocation:e})=>{const n=p();return l.useEffect(()=>{e&&n.setView([e.lat,e.lng])},[e,n]),g("click",a=>{const{lat:i,lng:o}=a.latlng;s({lat:i,lng:o})}),null},M=new f.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowAnchor:[10,41],shadowSize:[41,41]}),j=()=>{const s=p();return l.useEffect(()=>{s&&setTimeout(()=>{s.invalidateSize()},100)},[s]),null};function w({onCoordinatesChange:s,currentLocation:e,className:n}){const[a,i]=l.useState(null);l.useEffect(()=>{e&&i(e)},[e]);const o=r=>{i({lat:Number(r.lat),lng:Number(r.lng)}),s(r)};return t.jsx("div",{className:u("map-container",n),children:t.jsxs(c,{center:[.556174,123.058548],zoom:13,style:{height:"100%",width:"100%"},children:[t.jsx(m,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.jsx(j,{}),t.jsx(x,{onCoordinatesChange:o,currentLocation:e}),a&&t.jsx(d,{position:a,icon:M,children:t.jsxs(h,{children:["Latitude: ",a.lat,", Longitude:"," ",a.lng]})})]})})}export{w as default};
