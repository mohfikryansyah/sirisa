import{r as l,j as t}from"./app-CpEXxolg.js";import{M as c,T as m,u as p,d as u,l as d}from"./leaflet-QtgQBmu0.js";import{c as f}from"./utils-CytzSlOG.js";import{M as h,P as g}from"./Popup-DbDlvFUy.js";import"./index-BZkdM-th.js";const x=({onCoordinatesChange:s,currentLocation:e})=>{const n=p();return l.useEffect(()=>{e&&n.setView([e.lat,e.lng])},[e,n]),u("click",a=>{const{lat:i,lng:o}=a.latlng;s({lat:i,lng:o})}),null},M=new d.Icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowAnchor:[10,41],shadowSize:[41,41]}),j=()=>{const s=p();return l.useEffect(()=>{s&&setTimeout(()=>{s.invalidateSize()},100)},[s]),null};function w({onCoordinatesChange:s,currentLocation:e,className:n}){const[a,i]=l.useState(null);l.useEffect(()=>{e&&i(e)},[e]);const o=r=>{i({lat:Number(r.lat),lng:Number(r.lng)}),s(r)};return t.jsx("div",{className:f("map-container",n),children:t.jsxs(c,{center:[.556174,123.058548],zoom:13,style:{height:"100%",width:"100%"},children:[t.jsx(m,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.jsx(j,{}),t.jsx(x,{onCoordinatesChange:o,currentLocation:e}),a&&t.jsx(h,{position:a,icon:M,children:t.jsxs(g,{children:["Latitude: ",a.lat,", Longitude:"," ",a.lng]})})]})})}export{w as default};
