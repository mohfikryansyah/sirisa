import{r,j as e,S as F,k as P}from"./app-DxWiE8Ot.js";import{u as L}from"./use-media-query-DXqOy6SU.js";import{ComplaintForm as G}from"./ComplaintForm-BqWm_jMU.js";import{c as D}from"./utils-CytzSlOG.js";import{h as C}from"./proxy-BcUuMkzJ.js";import{A as I}from"./index-CQWyql7j.js";import{s as T,z as B}from"./zod-44cyMOWv.js";import{C as V}from"./card-wCTnNVSt.js";import"./button-C2v2gbY4.js";import"./index-DNejTc9f.js";import"./index-BbOy2j2U.js";import"./index-CAvpFn2P.js";import"./dialog-Bh19IA06.js";import"./index-GqmyLsqQ.js";import"./index-DfWykbO8.js";import"./index-BVpeYP89.js";import"./index-Ca6TZ3pX.js";import"./drawer-CT5UVzBw.js";import"./input-B0401ZIQ.js";import"./VoiceRecorder-BRwA3ubP.js";import"./MyMap-Cb_yBwRt.js";import"./leaflet-DWGynDr_.js";import"./Popup-Bn_gQXe3.js";import"./label-BXBkzIEY.js";function K({placeholders:b,onChange:w,onSubmit:v}){const[y,k]=r.useState(0),n=r.useRef(null),x=()=>{n.current=setInterval(()=>{k(a=>(a+1)%b.length)},3e3)},l=()=>{document.visibilityState!=="visible"&&n.current?(clearInterval(n.current),n.current=null):document.visibilityState==="visible"&&x()};r.useEffect(()=>(x(),document.addEventListener("visibilitychange",l),()=>{n.current&&clearInterval(n.current),document.removeEventListener("visibilitychange",l)}),[b]);const o=r.useRef(null),p=r.useRef([]),j=r.useRef(null),[m,z]=r.useState(""),[S,A]=r.useState(!1),_=r.useCallback(()=>{if(!j.current)return;const a=o.current;if(!a)return;const s=a.getContext("2d");if(!s)return;a.width=800,a.height=800,s.clearRect(0,0,800,800);const f=getComputedStyle(j.current),h=parseFloat(f.getPropertyValue("font-size"));s.font=`${h*2}px ${f.fontFamily}`,s.fillStyle="#FFF",s.fillText(m,16,40);const d=s.getImageData(0,0,800,800).data,g=[];for(let t=0;t<800;t++){let N=4*t*800;for(let i=0;i<800;i++){let u=N+4*i;d[u]!==0&&d[u+1]!==0&&d[u+2]!==0&&g.push({x:i,y:t,color:[d[u],d[u+1],d[u+2],d[u+3]]})}}p.current=g.map(({x:t,y:N,color:i})=>({x:t,y:N,r:1,color:`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]})`}))},[m]);r.useEffect(()=>{_()},[m,_]);const R=a=>{const s=(f=0)=>{requestAnimationFrame(()=>{var d;const h=[];for(let g=0;g<p.current.length;g++){const t=p.current[g];if(t.x<f)h.push(t);else{if(t.r<=0){t.r=0;continue}t.x+=Math.random()>.5?1:-1,t.y+=Math.random()>.5?1:-1,t.r-=.05*Math.random(),h.push(t)}}p.current=h;const c=(d=o.current)==null?void 0:d.getContext("2d");c&&(c.clearRect(f,0,800,800),p.current.forEach(g=>{const{x:t,y:N,r:i,color:u}=g;t>f&&(c.beginPath(),c.rect(t,N,i,i),c.fillStyle=u,c.strokeStyle=u,c.stroke())})),p.current.length>0?s(f-8):(z(""),A(!1))})};s(a)},$=a=>{a.key==="Enter"&&!S&&m.length>9&&m.length<15&&E()},E=()=>{var s;if(A(!0),_(),(((s=j.current)==null?void 0:s.value)||"")&&j.current){const f=p.current.reduce((h,c)=>c.x>h?c.x:h,0);R(f)}},M=a=>{a.preventDefault(),E(),v&&v(a)};return e.jsxs("form",{className:D("w-full relative max-w-xl mx-auto bg-white dark:bg-zinc-800 h-12 rounded-full overflow-hidden shadow-[0px_2px_3px_-1px_rgba(0,0,0,0.1),_0px_1px_0px_0px_rgba(25,28,33,0.02),_0px_0px_0px_1px_rgba(25,28,33,0.08)] transition duration-200",m&&"bg-gray-50"),onSubmit:M,children:[e.jsx("canvas",{className:D("absolute pointer-events-none  text-base transform scale-50 top-[20%] left-2 sm:left-8 origin-top-left filter invert dark:invert-0 pr-20",S?"opacity-100":"opacity-0"),ref:o}),e.jsx("input",{onChange:a=>{S||(z(a.target.value),w&&w(a))},onKeyDown:$,ref:j,value:m,type:"text",className:D("w-full relative text-sm sm:text-base z-50 border-none dark:text-white bg-transparent text-black h-full rounded-full focus:outline-none focus:ring-0 pl-4 sm:pl-10 pr-20",S&&"text-transparent dark:text-transparent")}),e.jsx("button",{disabled:m.length<9,type:"submit",className:"absolute right-2 top-1/2 z-50 -translate-y-1/2 h-8 w-8 rounded-full disabled:bg-gray-100 bg-black dark:bg-zinc-900 dark:disabled:bg-zinc-800 transition duration-200 flex items-center justify-center",children:e.jsxs(C.svg,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-300 h-4 w-4",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx(C.path,{d:"M5 12l14 0",initial:{strokeDasharray:"50%",strokeDashoffset:"50%"},animate:{strokeDashoffset:m?0:"50%"},transition:{duration:.3,ease:"linear"}}),e.jsx("path",{d:"M13 18l6 -6"}),e.jsx("path",{d:"M13 6l6 6"})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center rounded-full pointer-events-none",children:e.jsx(I,{mode:"wait",children:!m&&e.jsx(C.p,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},exit:{y:-15,opacity:0},transition:{duration:.3,ease:"linear"},className:"dark:text-zinc-500 text-sm sm:text-base font-normal text-neutral-500 pl-4 sm:pl-12 text-left w-[calc(100%-2rem)] truncate",children:b[y]},`current-placeholder-${y}`)})})]})}function he(){const[b,w]=r.useState(!1),[v,y]=r.useState("");r.useState(null),r.useEffect(()=>{setTimeout(()=>{w(!1)},500)},[]);const k=["Masukkan nomor Anda disini","Untuk melihat proses laporan Anda","Contoh: 082290142486"],n=l=>{const o=l.target.value.trim();y(o)},x=l=>{l.preventDefault();try{T.parse(v),F.get(route("complaint.search",{search_query:v}))}catch(o){o instanceof B.ZodError&&o.errors.map(p=>P.error(p.message))}};return e.jsxs("div",{className:"w-full h-screen overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,white,transparent)] overflow-hidden",children:e.jsx(H,{})}),e.jsxs("div",{className:"w-full lg:grid grid-cols-4 items-center justify-center h-full",children:[e.jsx("div",{className:"xl:block hidden",children:e.jsxs(V,{className:"bg-[#fef18c] shadow-lg pl-5 py-2 border-[#fef18c] h-[20rem] ml-[8vw] w-[18rem] relative rotate-6 hover:scale-105 transition duration-300",children:[e.jsxs("div",{className:"flex flex-col items-center -mt-6 absolute left-0 right-0 w-full",children:[e.jsx("div",{className:"rounded-full z-10 h-5 w-5 bg-red-500 bg-radial-gradient"}),e.jsx("div",{className:"h-6 w-[0.1rem] -mt-2 rounded-lg bg-black"})]}),e.jsxs("div",{className:"w-full h-full p-5 border-l-2 border-black/80 border-dashed font-grapenuts text-3xl space-y-4",children:[e.jsx("p",{children:"Dilarang menebang pohon tanpa izin resmi."}),e.jsx("p",{children:"Jangan membakar hutan atau lahan."})]})]})}),e.jsxs("div",{className:"w-full h-full col-start-2 col-span-2 flex flex-col md:gap-4 items-center md:relative absolute justify-center z-10",children:[e.jsx("div",{className:"md:max-w-md max-w-xs w-full px-4 md:px-0 md:mb-0 mb-4",children:e.jsx(K,{placeholders:k,onChange:n,onSubmit:x})}),e.jsx("h1",{className:"inline-block max-w-5xl bg-gradient-to-r from-blue-500 via-green-500 to-sirisa-primary bg-clip-text text-center text-2xl font-bold text-transparent md:py-2 md:text-6xl whitespace-nowrap",children:"Lindungi Sumber Daya Alam"}),e.jsx("h1",{className:"text-center text-2xl md:py-0 py-2 font-bold text-gray-700 md:text-[3.5rem] md:px-0 px-5 inline-block max-w-5xl leading-[1] whitespace-nowrap",children:"Bersama Lindungi Bumi Kita"}),e.jsx("p",{className:"mx-auto md:max-w-xl max-w-xs md:mt-4 text-center text-lg font-medium text-gray-700 md:w-2/3",children:"Temukan informasi risiko terkini untuk melindungi masa depan lingkungan."}),e.jsxs("div",{className:"flex gap-3 items-center justify-center md:mt-3 mt-5",children:[e.jsx("a",{className:"rounded-xl bg-[#187f80] px-4 py-3 font-medium text-white",href:"#map",children:"Lihat Peta"}),e.jsx(G,{})]})]})]})]})}function q({isDark:b}){const w=L("(min-width: 768px)");return e.jsx("div",{className:`flex flex-shrink-0 rounded-[2px] ${b?"bg-gray-50 dark:bg-neutral-950":"bg-gray-200 dark:bg-neutral-950 dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]"} ${w?"w-32 h-32":"w-10 h-10"}`})}function H(){const[v,y]=r.useState([]);return r.useEffect(()=>{y((()=>{const n=[];for(let x=0;x<4;x++){const l=[];for(let o=0;o<41;o++)l.push(Math.random()<.9);n.push(l)}return n})())},[]),e.jsx("div",{className:"flex bg-gray-100 dark:bg-neutral-900 flex-shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px",children:v.map((k,n)=>k.map((x,l)=>e.jsx(q,{isDark:x},`${l}-${n}`)))})}export{H as GridPattern,he as default};
